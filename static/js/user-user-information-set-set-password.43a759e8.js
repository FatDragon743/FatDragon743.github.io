(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-user-information-set-set-password"],{1146:function(t,e,i){},"214f":function(t,e,i){"use strict";var n=i("32e9"),r=i("2aba"),s=i("79e5"),o=i("be13"),a=i("2b4c");t.exports=function(t,e,i){var c=a(t),l=i(o,c,""[t]),u=l[0],h=l[1];s((function(){var e={};return e[c]=function(){return 7},7!=""[t](e)}))&&(r(String.prototype,t,u),n(RegExp.prototype,c,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)}))}},"32d7":function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return s}));var n=i("a142");function r(){return!n["d"]&&/android/.test(navigator.userAgent.toLowerCase())}function s(){return!n["d"]&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase())}},"565f":function(t,e,i){"use strict";var n=i("2638"),r=i.n(n),s=i("1988"),o=i("ad06"),a=i("7744"),c=i("dfaf"),l=i("1325"),u=i("a8fa"),h=i("d282"),d=i("a142"),f=i("ea8e"),p=Object(h["a"])("field"),b=p[0],v=p[1];e["a"]=b({inheritAttrs:!1,props:Object(s["a"])({},c["a"],{error:Boolean,readonly:Boolean,autosize:[Boolean,Object],leftIcon:String,rightIcon:String,clearable:Boolean,labelClass:null,labelWidth:[Number,String],labelAlign:String,inputAlign:String,errorMessage:String,errorMessageAlign:String,showWordLimit:Boolean,type:{type:String,default:"text"}}),data:function(){return{focused:!1}},watch:{value:function(){this.$nextTick(this.adjustSize)}},mounted:function(){this.format(),this.$nextTick(this.adjustSize)},computed:{showClear:function(){return this.clearable&&this.focused&&""!==this.value&&Object(d["b"])(this.value)&&!this.readonly},listeners:function(){var t=Object(s["a"])({},this.$listeners,{input:this.onInput,keypress:this.onKeypress,focus:this.onFocus,blur:this.onBlur});return delete t.click,t},labelStyle:function(){var t=this.labelWidth;if(t)return{width:Object(f["a"])(t)}}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},format:function(t){if(void 0===t&&(t=this.$refs.input),t){var e=t,i=e.value,n=this.$attrs.maxlength;return"number"===this.type&&Object(d["b"])(n)&&i.length>n&&(i=i.slice(0,n),t.value=i),i}},onInput:function(t){t.target.composing||this.$emit("input",this.format(t.target))},onFocus:function(t){this.focused=!0,this.$emit("focus",t),this.readonly&&this.blur()},onBlur:function(t){this.focused=!1,this.$emit("blur",t),Object(u["a"])()},onClick:function(t){this.$emit("click",t)},onClickLeftIcon:function(t){this.$emit("click-left-icon",t)},onClickRightIcon:function(t){this.$emit("click-right-icon",t)},onClear:function(t){Object(l["c"])(t),this.$emit("input",""),this.$emit("clear",t)},onKeypress:function(t){if("number"===this.type){var e=t.keyCode,i=-1===String(this.value).indexOf("."),n=e>=48&&e<=57||46===e&&i||45===e;n||Object(l["c"])(t)}"search"===this.type&&13===t.keyCode&&this.blur(),this.$emit("keypress",t)},adjustSize:function(){var t=this.$refs.input;if("textarea"===this.type&&this.autosize&&t){t.style.height="auto";var e=t.scrollHeight;if(Object(d["c"])(this.autosize)){var i=this.autosize,n=i.maxHeight,r=i.minHeight;n&&(e=Math.min(e,n)),r&&(e=Math.max(e,r))}e&&(t.style.height=e+"px")}},renderInput:function(){var t=this.$createElement,e=this.slots("input");if(e)return t("div",{class:v("control",this.inputAlign)},[e]);var i={ref:"input",class:v("control",this.inputAlign),domProps:{value:this.value},attrs:Object(s["a"])({},this.$attrs,{readonly:this.readonly}),on:this.listeners,directives:[{name:"model",value:this.value}]};return"textarea"===this.type?t("textarea",r()([{},i])):t("input",r()([{attrs:{type:this.type}},i]))},renderLeftIcon:function(){var t=this.$createElement,e=this.slots("left-icon")||this.leftIcon;if(e)return t("div",{class:v("left-icon"),on:{click:this.onClickLeftIcon}},[this.slots("left-icon")||t(o["a"],{attrs:{name:this.leftIcon}})])},renderRightIcon:function(){var t=this.$createElement,e=this.slots,i=e("right-icon")||this.rightIcon;if(i)return t("div",{class:v("right-icon"),on:{click:this.onClickRightIcon}},[e("right-icon")||t(o["a"],{attrs:{name:this.rightIcon}})])},renderWordLimit:function(){var t=this.$createElement;if(this.showWordLimit&&this.$attrs.maxlength)return t("div",{class:v("word-limit")},[this.value.length,"/",this.$attrs.maxlength])}},render:function(){var t,e=arguments[0],i=this.slots,n=this.labelAlign,r={icon:this.renderLeftIcon};return i("label")&&(r.title=function(){return i("label")}),e(a["a"],{attrs:{icon:this.leftIcon,size:this.size,title:this.label,center:this.center,border:this.border,isLink:this.isLink,required:this.required,clickable:this.clickable,titleStyle:this.labelStyle,titleClass:[v("label",n),this.labelClass],arrowDirection:this.arrowDirection},class:v((t={error:this.error},t["label-"+n]=n,t["min-height"]="textarea"===this.type&&!this.autosize,t)),scopedSlots:r,on:{click:this.onClick}},[e("div",{class:v("body")},[this.renderInput(),this.showClear&&e(o["a"],{attrs:{name:"clear"},class:v("clear"),on:{touchstart:this.onClear}}),this.renderRightIcon(),i("button")&&e("div",{class:v("button")},[i("button")])]),this.renderWordLimit(),this.errorMessage&&e("div",{class:v("error-message",this.errorMessageAlign)},[this.errorMessage])])}})},a481:function(t,e,i){i("214f")("replace",2,(function(t,e,i){return[function(n,r){"use strict";var s=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,s,r):i.call(String(s),n,r)},i]}))},a8fa:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var n=i("32d7"),r=i("a8c1"),s=Object(n["b"])();function o(){s&&Object(r["e"])(Object(r["b"])())}},be7f:function(t,e,i){"use strict";i("68ef"),i("09fe"),i("1146")},c24f:function(t,e,i){"use strict";i.d(e,"d",(function(){return n})),i.d(e,"e",(function(){return r})),i.d(e,"g",(function(){return s})),i.d(e,"f",(function(){return o})),i.d(e,"h",(function(){return a})),i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return l})),i.d(e,"c",(function(){return u}));var n="/user-login",r="",s="/user-profile",o="",a="",c="/address",l="/address-default",u="/moreGoods"},d3c5:function(t,e,i){},e3e3:function(t,e,i){"use strict";var n=i("d3c5"),r=i.n(n);r.a},fec3:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-cell-group",[i("van-field",{attrs:{label:"原密码",type:"password",placeholder:"请输入原密码",error:!!t.$vuelidation.error("password")},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),i("van-field",{attrs:{label:"新密码",type:"password",placeholder:"请输入新密码",error:!!t.$vuelidation.error("new_password")},model:{value:t.new_password,callback:function(e){t.new_password=e},expression:"new_password"}}),i("van-field",{attrs:{label:"确认密码",type:"password",placeholder:"请再次输入密码",error:!!t.$vuelidation.error("repeat_password")},model:{value:t.repeat_password,callback:function(e){t.repeat_password=e},expression:"repeat_password"}})],1),i("div",{staticClass:"bottom_btn"},[i("van-button",{attrs:{size:"large",type:"danger"},on:{click:t.modifypassword}},[t._v("保存")])],1)],1)},r=[],s=i("bd86"),o=(i("7f7f"),i("be7f"),i("565f")),a=(i("a481"),i("c24f")),c=i("4097"),l={data:function(){return{password:"",new_password:"",repeat_password:""}},methods:{modifypassword:function(){var t=this;this.passwordValid()&&this.$reqPut(a["f"],{old_password:this.password,new_password:this.new_password}).then((function(){return t.$dialog.alert({message:"保存成功, 请重新登录."})})).then((function(){return t.$reqGet(a["e"])})).then((function(){Object(c["b"])("Authorization","user_id","avatar","background_image","nick_name"),t.$router.replace({name:"login"})}))},passwordValid:function(){return this.new_password==this.repeat_password||(this.$toast("密码不一致, 请再次确认密码"),!1)}},components:Object(s["a"])({},o["a"].name,o["a"])},u=l,h=(i("e3e3"),i("2877")),d=Object(h["a"])(u,n,r,!1,null,"a2fb10e2",null);e["default"]=d.exports}}]);
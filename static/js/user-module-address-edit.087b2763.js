(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user-module-address-edit"],{1146:function(t,e,a){},"32d7":function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return s}));var i=a("a142");function n(){return!i["d"]&&/android/.test(navigator.userAgent.toLowerCase())}function s(){return!i["d"]&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase())}},"482d":function(t,e,a){"use strict";function i(t,e,a){return Math.min(Math.max(t,e),a)}a.d(e,"a",(function(){return i}))},"50b3":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("van-address-edit",{staticStyle:{"background-color":"#fff"},attrs:{areaList:t.areaList,addressInfo:t.addressInfo,isSaving:t.isSave,showPostal:""},on:{save:t.save}})},n=[],s=a("bd86"),r=(a("7f7f"),a("68ef"),a("a526"),a("09fe"),a("1146"),a("4d75"),a("b258"),a("2fcb"),a("d9d2"),a("afaa"),a("b7e7"),a("1988")),o=a("d282"),l=a("a142");function c(t){return t=t.replace(/[^-|\d]/g,""),/^((\+86)|(86))?(1)\d{10}$/.test(t)||/^0[0-9-]{10,13}$/.test(t)}var u=a("1125"),d=a("565f"),h=a("e41f"),f=a("d399"),p=a("b650"),b=a("2241"),v=a("32d7"),m=a("7744"),g=Object(o["a"])("address-edit-detail"),y=g[0],S=g[1],w=g[2],C=Object(v["a"])(),I=y({props:{value:String,error:Boolean,focused:Boolean,detailRows:Number,searchResult:Array,detailMaxlength:Number,showSearchResult:Boolean},methods:{onSelect:function(t){this.$emit("select-search",t),this.$emit("input",((t.address||"")+" "+(t.name||"")).trim())},onFinish:function(){this.$refs.field.blur()},renderFinish:function(){var t=this.$createElement,e=this.value&&this.focused&&C;if(e)return t("div",{class:S("finish"),on:{click:this.onFinish}},[w("complete")])},renderSearchResult:function(){var t=this,e=this.$createElement,a=this.searchResult,i=this.focused&&a&&this.showSearchResult;if(i)return a.map((function(a){return e(m["a"],{key:a.name+a.address,attrs:{title:a.name,label:a.address,icon:"location-o",clickable:!0},on:{click:function(){t.onSelect(a)}}})}))}},render:function(){var t=arguments[0];return t(m["a"],{class:S()},[t(d["a"],{attrs:{autosize:!0,rows:this.detailRows,clearable:!C,type:"textarea",value:this.value,error:this.error,label:w("label"),maxlength:this.detailMaxlength,placeholder:w("placeholder")},ref:"field",scopedSlots:{icon:this.renderFinish},on:Object(r["a"])({},this.$listeners)}),this.renderSearchResult()])}}),k=a("2638"),O=a.n(k),$=a("ba31"),j=a("ea8e"),A=a("b1d2"),x={size:String,value:null,loading:Boolean,disabled:Boolean,activeColor:String,inactiveColor:String,activeValue:{type:null,default:!0},inactiveValue:{type:null,default:!1}},B=a("543e"),D=Object(o["a"])("switch"),E=D[0],L=D[1];function R(t,e,a,i){var n=e.size,s=e.value,r=e.loading,o=e.disabled,l=e.activeColor,c=e.activeValue,u=e.inactiveColor,d=e.inactiveValue,h=s===c,f={fontSize:Object(j["a"])(n),backgroundColor:h?l:u},p=h?l||A["a"]:u||A["i"];function b(t){if(Object($["a"])(i,"click",t),!o&&!r){var e=h?d:c;Object($["a"])(i,"input",e),Object($["a"])(i,"change",e)}}return t("div",O()([{class:L({on:h,disabled:o}),attrs:{role:"switch","aria-checked":String(h)},style:f,on:{click:b}},Object($["b"])(i)]),[t("div",{class:L("node")},[r&&t(B["a"],{class:L("loading"),attrs:{color:p}})])])}R.props=x;var N=E(R),_=Object(o["a"])("switch-cell"),F=_[0],P=_[1];function z(t,e,a,i){return t(m["a"],O()([{attrs:{center:!0,size:e.cellSize,title:e.title,border:e.border},class:P([e.cellSize])},Object($["b"])(i)]),[t(N,{props:Object(r["a"])({},e),on:Object(r["a"])({},i.listeners)})])}z.props=Object(r["a"])({},x,{title:String,cellSize:String,border:{type:Boolean,default:!0},size:{type:String,default:"24px"}});var M=F(z),T=Object(o["a"])("address-edit"),V=T[0],W=T[1],q=T[2],G={name:"",tel:"",country:"",province:"",city:"",county:"",areaCode:"",postalCode:"",addressDetail:"",isDefault:!1};function H(t){return/^\d{6}$/.test(t)}var J=V({props:{areaList:Object,isSaving:Boolean,isDeleting:Boolean,validator:Function,showDelete:Boolean,showPostal:Boolean,searchResult:Array,showSetDefault:Boolean,showSearchResult:Boolean,saveButtonText:String,deleteButtonText:String,showArea:{type:Boolean,default:!0},showDetail:{type:Boolean,default:!0},detailRows:{type:Number,default:1},detailMaxlength:{type:Number,default:200},addressInfo:{type:Object,default:function(){return Object(r["a"])({},G)}},telValidator:{type:Function,default:c},postalValidator:{type:Function,default:H},areaColumnsPlaceholder:{type:Array,default:function(){return[]}}},data:function(){return{data:{},showAreaPopup:!1,detailFocused:!1,errorInfo:{tel:!1,name:!1,postalCode:!1,addressDetail:!1}}},computed:{areaListLoaded:function(){return Object(l["c"])(this.areaList)&&Object.keys(this.areaList).length},areaText:function(){var t=this.data,e=t.country,a=t.province,i=t.city,n=t.county,s=t.areaCode;if(s){var r=[e,a,i,n];return a&&a===i&&r.splice(1,1),r.filter((function(t){return t})).join("/")}return""}},watch:{addressInfo:{handler:function(t){this.data=Object(r["a"])({},G,{},t),this.setAreaCode(t.areaCode)},deep:!0,immediate:!0},areaList:function(){this.setAreaCode(this.data.areaCode)}},methods:{onFocus:function(t){this.errorInfo[t]=!1,this.detailFocused="addressDetail"===t,this.$emit("focus",t)},onChangeDetail:function(t){this.data.addressDetail=t,this.$emit("change-detail",t)},onAreaConfirm:function(t){t=t.filter((function(t){return!!t})),t.some((function(t){return!t.code}))?Object(f["a"])(q("areaEmpty")):(this.showAreaPopup=!1,this.assignAreaValues(),this.$emit("change-area",t))},assignAreaValues:function(){var t=this.$refs.area;if(t){var e=t.getArea();e.areaCode=e.code,delete e.code,Object(r["a"])(this.data,e)}},onSave:function(){var t=this,e=["name","tel","areaCode","addressDetail"];this.showPostal&&e.push("postalCode");var a=e.every((function(e){var a=t.getErrorMessage(e);return a&&(t.errorInfo[e]=!0,Object(f["a"])(a)),!a}));a&&!this.isSaving&&this.$emit("save",this.data)},getErrorMessage:function(t){var e=String(this.data[t]||"").trim();if(this.validator){var a=this.validator(t,e);if(a)return a}switch(t){case"name":return e?"":q("nameEmpty");case"tel":return this.telValidator(e)?"":q("telInvalid");case"areaCode":return e?"":q("areaEmpty");case"addressDetail":return e?"":q("addressEmpty");case"postalCode":return e&&!this.postalValidator(e)?q("postalEmpty"):""}},onDelete:function(){var t=this;b["a"].confirm({title:q("confirmDelete")}).then((function(){t.$emit("delete",t.data)})).catch((function(){t.$emit("cancel-delete",t.data)}))},getArea:function(){return this.$refs.area?this.$refs.area.getValues():[]},setAreaCode:function(t){this.data.areaCode=t||"",t&&this.$nextTick(this.assignAreaValues)},setAddressDetail:function(t){this.data.addressDetail=t},onDetailBlur:function(){var t=this;setTimeout((function(){t.detailFocused=!1}))}},render:function(){var t=this,e=arguments[0],a=this.data,i=this.errorInfo,n=this.searchResult,s=function(e){return function(){return t.onFocus(e)}},r=n&&n.length&&this.detailFocused;return e("div",{class:W()},[e(d["a"],{attrs:{clearable:!0,label:q("name"),placeholder:q("namePlaceholder"),error:i.name},on:{focus:s("name")},model:{value:a.name,callback:function(t){a.name=t}}}),e(d["a"],{attrs:{clearable:!0,type:"tel",label:q("tel"),placeholder:q("telPlaceholder"),error:i.tel},on:{focus:s("tel")},model:{value:a.tel,callback:function(t){a.tel=t}}}),e(d["a"],{directives:[{name:"show",value:this.showArea}],attrs:{readonly:!0,label:q("area"),placeholder:q("areaPlaceholder"),value:this.areaText},on:{click:function(){t.showAreaPopup=!0}}}),e(I,{directives:[{name:"show",value:this.showDetail}],attrs:{focused:this.detailFocused,value:a.addressDetail,error:i.addressDetail,detailRows:this.detailRows,detailMaxlength:this.detailMaxlength,searchResult:this.searchResult,showSearchResult:this.showSearchResult},on:{focus:s("addressDetail"),blur:this.onDetailBlur,input:this.onChangeDetail,"select-search":function(e){t.$emit("select-search",e)}}}),this.showPostal&&e(d["a"],{directives:[{name:"show",value:!r}],attrs:{type:"tel",maxlength:"6",label:q("postal"),placeholder:q("postal"),error:i.postalCode},on:{focus:s("postalCode")},model:{value:a.postalCode,callback:function(t){a.postalCode=t}}}),this.slots(),this.showSetDefault&&e(M,{directives:[{name:"show",value:!r}],attrs:{title:q("defaultAddress")},on:{change:function(e){t.$emit("change-default",e)}},model:{value:a.isDefault,callback:function(t){a.isDefault=t}}}),e("div",{directives:[{name:"show",value:!r}],class:W("buttons")},[e(p["a"],{attrs:{block:!0,loading:this.isSaving,type:"danger",text:this.saveButtonText||q("save")},on:{click:this.onSave}}),this.showDelete&&e(p["a"],{attrs:{block:!0,loading:this.isDeleting,text:this.deleteButtonText||q("delete")},on:{click:this.onDelete}})]),e(h["a"],{attrs:{position:"bottom",lazyRender:!1,getContainer:"body"},model:{value:t.showAreaPopup,callback:function(e){t.showAreaPopup=e}}},[e(u["a"],{ref:"area",attrs:{loading:!this.areaListLoaded,value:a.areaCode,areaList:this.areaList,columnsPlaceholder:this.areaColumnsPlaceholder},on:{confirm:this.onAreaConfirm,cancel:function(){t.showAreaPopup=!1}}})])])}}),K=(a("c5f6"),a("f8a8")),U={name:"address-edit",props:{addressId:[Number,String]},data:function(){return{areaList:K,isSave:!1,addressInfo:{}}},activated:function(){var t=this;setTimeout((function(){t.addressInfo={id:t.addressId,name:"qianzhaoy",tel:"13454193338",province:"浙江省",city:"杭州市",county:"西湖区",address_detail:"是的是的",area_code:"330106",postal_code:123456}}),1e3)},methods:{save:function(t){this.$toast("成功"),console.log(t)}},components:Object(s["a"])({},J.name,J)},X=U,Y=a("2877"),Q=Object(Y["a"])(X,i,n,!1,null,null,null);e["default"]=Q.exports},"565f":function(t,e,a){"use strict";var i=a("2638"),n=a.n(i),s=a("1988"),r=a("ad06"),o=a("7744"),l=a("dfaf"),c=a("1325"),u=a("a8fa"),d=a("d282"),h=a("a142"),f=a("ea8e"),p=Object(d["a"])("field"),b=p[0],v=p[1];e["a"]=b({inheritAttrs:!1,props:Object(s["a"])({},l["a"],{error:Boolean,readonly:Boolean,autosize:[Boolean,Object],leftIcon:String,rightIcon:String,clearable:Boolean,labelClass:null,labelWidth:[Number,String],labelAlign:String,inputAlign:String,errorMessage:String,errorMessageAlign:String,showWordLimit:Boolean,type:{type:String,default:"text"}}),data:function(){return{focused:!1}},watch:{value:function(){this.$nextTick(this.adjustSize)}},mounted:function(){this.format(),this.$nextTick(this.adjustSize)},computed:{showClear:function(){return this.clearable&&this.focused&&""!==this.value&&Object(h["b"])(this.value)&&!this.readonly},listeners:function(){var t=Object(s["a"])({},this.$listeners,{input:this.onInput,keypress:this.onKeypress,focus:this.onFocus,blur:this.onBlur});return delete t.click,t},labelStyle:function(){var t=this.labelWidth;if(t)return{width:Object(f["a"])(t)}}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},format:function(t){if(void 0===t&&(t=this.$refs.input),t){var e=t,a=e.value,i=this.$attrs.maxlength;return"number"===this.type&&Object(h["b"])(i)&&a.length>i&&(a=a.slice(0,i),t.value=a),a}},onInput:function(t){t.target.composing||this.$emit("input",this.format(t.target))},onFocus:function(t){this.focused=!0,this.$emit("focus",t),this.readonly&&this.blur()},onBlur:function(t){this.focused=!1,this.$emit("blur",t),Object(u["a"])()},onClick:function(t){this.$emit("click",t)},onClickLeftIcon:function(t){this.$emit("click-left-icon",t)},onClickRightIcon:function(t){this.$emit("click-right-icon",t)},onClear:function(t){Object(c["c"])(t),this.$emit("input",""),this.$emit("clear",t)},onKeypress:function(t){if("number"===this.type){var e=t.keyCode,a=-1===String(this.value).indexOf("."),i=e>=48&&e<=57||46===e&&a||45===e;i||Object(c["c"])(t)}"search"===this.type&&13===t.keyCode&&this.blur(),this.$emit("keypress",t)},adjustSize:function(){var t=this.$refs.input;if("textarea"===this.type&&this.autosize&&t){t.style.height="auto";var e=t.scrollHeight;if(Object(h["c"])(this.autosize)){var a=this.autosize,i=a.maxHeight,n=a.minHeight;i&&(e=Math.min(e,i)),n&&(e=Math.max(e,n))}e&&(t.style.height=e+"px")}},renderInput:function(){var t=this.$createElement,e=this.slots("input");if(e)return t("div",{class:v("control",this.inputAlign)},[e]);var a={ref:"input",class:v("control",this.inputAlign),domProps:{value:this.value},attrs:Object(s["a"])({},this.$attrs,{readonly:this.readonly}),on:this.listeners,directives:[{name:"model",value:this.value}]};return"textarea"===this.type?t("textarea",n()([{},a])):t("input",n()([{attrs:{type:this.type}},a]))},renderLeftIcon:function(){var t=this.$createElement,e=this.slots("left-icon")||this.leftIcon;if(e)return t("div",{class:v("left-icon"),on:{click:this.onClickLeftIcon}},[this.slots("left-icon")||t(r["a"],{attrs:{name:this.leftIcon}})])},renderRightIcon:function(){var t=this.$createElement,e=this.slots,a=e("right-icon")||this.rightIcon;if(a)return t("div",{class:v("right-icon"),on:{click:this.onClickRightIcon}},[e("right-icon")||t(r["a"],{attrs:{name:this.rightIcon}})])},renderWordLimit:function(){var t=this.$createElement;if(this.showWordLimit&&this.$attrs.maxlength)return t("div",{class:v("word-limit")},[this.value.length,"/",this.$attrs.maxlength])}},render:function(){var t,e=arguments[0],a=this.slots,i=this.labelAlign,n={icon:this.renderLeftIcon};return a("label")&&(n.title=function(){return a("label")}),e(o["a"],{attrs:{icon:this.leftIcon,size:this.size,title:this.label,center:this.center,border:this.border,isLink:this.isLink,required:this.required,clickable:this.clickable,titleStyle:this.labelStyle,titleClass:[v("label",i),this.labelClass],arrowDirection:this.arrowDirection},class:v((t={error:this.error},t["label-"+i]=i,t["min-height"]="textarea"===this.type&&!this.autosize,t)),scopedSlots:n,on:{click:this.onClick}},[e("div",{class:v("body")},[this.renderInput(),this.showClear&&e(r["a"],{attrs:{name:"clear"},class:v("clear"),on:{touchstart:this.onClear}}),this.renderRightIcon(),a("button")&&e("div",{class:v("button")},[a("button")])]),this.renderWordLimit(),this.errorMessage&&e("div",{class:v("error-message",this.errorMessageAlign)},[this.errorMessage])])}})},"5dbc":function(t,e,a){var i=a("d3f4"),n=a("8b97").set;t.exports=function(t,e,a){var s,r=e.constructor;return r!==a&&"function"==typeof r&&(s=r.prototype)!==a.prototype&&i(s)&&n&&n(t,s),t}},"8b97":function(t,e,a){var i=a("d3f4"),n=a("cb7c"),s=function(t,e){if(n(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(n){e=!0}return function(t,a){return s(t,a),e?t.__proto__=a:i(t,a),t}}({},!1):void 0),check:s}},a8fa:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var i=a("32d7"),n=a("a8c1"),s=Object(i["b"])();function r(){s&&Object(n["e"])(Object(n["b"])())}},aa77:function(t,e,a){var i=a("5ca1"),n=a("be13"),s=a("79e5"),r=a("fdef"),o="["+r+"]",l="​",c=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),d=function(t,e,a){var n={},o=s((function(){return!!r[t]()||l[t]()!=l})),c=n[t]=o?e(h):r[t];a&&(n[a]=c),i(i.P+i.F*o,"String",n)},h=d.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},afaa:function(t,e,a){},b7e7:function(t,e,a){},c5f6:function(t,e,a){"use strict";var i=a("7726"),n=a("69a8"),s=a("2d95"),r=a("5dbc"),o=a("6a99"),l=a("79e5"),c=a("9093").f,u=a("11e9").f,d=a("86cc").f,h=a("aa77").trim,f="Number",p=i[f],b=p,v=p.prototype,m=s(a("2aeb")(v))==f,g="trim"in String.prototype,y=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=g?e.trim():h(e,3);var a,i,n,s=e.charCodeAt(0);if(43===s||45===s){if(a=e.charCodeAt(2),88===a||120===a)return NaN}else if(48===s){switch(e.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+e}for(var r,l=e.slice(2),c=0,u=l.length;c<u;c++)if(r=l.charCodeAt(c),r<48||r>n)return NaN;return parseInt(l,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof p&&(m?l((function(){v.valueOf.call(a)})):s(a)!=f)?r(new b(y(e)),a,p):y(e)};for(var S,w=a("9e1e")?c(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;w.length>C;C++)n(b,S=w[C])&&!n(p,S)&&d(p,S,u(b,S));p.prototype=v,v.constructor=p,a("2aba")(i,f,p)}},d9d2:function(t,e,a){},e41f:function(t,e,a){"use strict";var i=a("d282"),n=a("a142"),s=a("6605"),r=a("ad06"),o=Object(i["a"])("popup"),l=o[0],c=o[1];e["a"]=l({mixins:[s["a"]],props:{round:Boolean,duration:Number,closeable:Boolean,transition:String,safeAreaInsetBottom:Boolean,closeIcon:{type:String,default:"cross"},closeIconPosition:{type:String,default:"top-right"},position:{type:String,default:"center"},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},beforeCreate:function(){var t=this,e=function(e){return function(a){return t.$emit(e,a)}};this.onClick=e("click"),this.onOpened=e("opened"),this.onClosed=e("closed")},render:function(){var t,e=arguments[0];if(this.shouldRender){var a=this.round,i=this.position,s=this.duration,o=this.transition||("center"===i?"van-fade":"van-popup-slide-"+i),l={};return Object(n["b"])(s)&&(l.transitionDuration=s+"s"),e("transition",{attrs:{name:o},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[e("div",{directives:[{name:"show",value:this.value}],style:l,class:c((t={round:a},t[i]=i,t["safe-area-inset-bottom"]=this.safeAreaInsetBottom,t)),on:{click:this.onClick}},[this.slots(),this.closeable&&e(r["a"],{attrs:{role:"button",tabindex:"0",name:this.closeIcon},class:c("close-icon",this.closeIconPosition),on:{click:this.close}})])])}}})},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
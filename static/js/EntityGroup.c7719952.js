(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["EntityGroup","items-detail-EntityGroup-popup-props"],{"0a49":function(t,e,n){var r=n("9b43"),s=n("626a"),i=n("4bf8"),a=n("9def"),o=n("cd1c");t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,p=4==t,d=6==t,l=5==t||d,f=e||o;return function(e,o,v){for(var h,g,m=i(e),b=s(m),k=r(o,v,3),_=a(b.length),y=0,O=n?f(e,_):u?f(e,0):void 0;_>y;y++)if((l||y in b)&&(h=b[y],g=k(h,y,m),t))if(n)O[y]=g;else if(g)switch(t){case 3:return!0;case 5:return h;case 6:return y;case 2:O.push(h)}else if(p)return!1;return d?-1:c||p?p:O}}},1169:function(t,e,n){var r=n("2d95");t.exports=Array.isArray||function(t){return"Array"==r(t)}},"11cc":function(t,e,n){"use strict";n.r(e);var r,s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"popup_wrap"},[n("van-icon",{staticClass:"cancel_popup",attrs:{name:"clear"},nativeOn:{click:function(e){t.$parent.value=!1}}}),n("div",{staticClass:"popup_header"},[t._v("商品属性")]),n("div",{staticClass:"popup_content"},[n("van-cell-group",t._l(t.propsStr,(function(e,r){return n("van-cell",{key:r},[n("van-row",[n("van-col",{attrs:{span:"8"}},[t._v(t._s(e[0]))]),n("van-col",{attrs:{span:"16"}},[t._v(t._s(e[1]))])],1)],1)})),1)],1)],1)},i=[],a=n("bd86"),o=(n("4d48"),n("d1e1")),u=(n("7f7f"),n("81e6"),n("9ffb")),c={name:"popup-props",props:{propsStr:{type:Array,default:function(){return[]}}},components:(r={},Object(a["a"])(r,u["a"].name,u["a"]),Object(a["a"])(r,o["a"].name,o["a"]),r)},p=c,d=(n("70c6"),n("2877")),l=Object(d["a"])(p,s,i,!1,null,"36f80242",null);e["default"]=l.exports},"28a5":function(t,e,n){n("214f")("split",2,(function(t,e,r){"use strict";var s=n("aae3"),i=r,a=[].push,o="split",u="length",c="lastIndex";if("c"=="abbc"[o](/(b)*/)[1]||4!="test"[o](/(?:)/,-1)[u]||2!="ab"[o](/(?:ab)*/)[u]||4!="."[o](/(.?)(.?)/)[u]||"."[o](/()()/)[u]>1||""[o](/.?/)[u]){var p=void 0===/()??/.exec("")[1];r=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!s(t))return i.call(n,t,e);var r,o,d,l,f,v=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),g=0,m=void 0===e?4294967295:e>>>0,b=new RegExp(t.source,h+"g");p||(r=new RegExp("^"+b.source+"$(?!\\s)",h));while(o=b.exec(n)){if(d=o.index+o[0][u],d>g&&(v.push(n.slice(g,o.index)),!p&&o[u]>1&&o[0].replace(r,(function(){for(f=1;f<arguments[u]-2;f++)void 0===arguments[f]&&(o[f]=void 0)})),o[u]>1&&o.index<n[u]&&a.apply(v,o.slice(1)),l=o[0][u],g=d,v[u]>=m))break;b[c]===o.index&&b[c]++}return g===n[u]?!l&&b.test("")||v.push(""):v.push(n.slice(g)),v[u]>m?v.slice(0,m):v}}else"0"[o](void 0,0)[u]&&(r=function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)});return[function(n,s){var i=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,i,s):r.call(String(i),n,s)},r]}))},"377d":function(t,e,n){"use strict";var r=n("7d02"),s=n.n(r);s.a},"4d48":function(t,e,n){"use strict";n("68ef"),n("bf60")},"5f1a":function(t,e,n){"use strict";n("68ef"),n("09fe"),n("9b7e")},"6fa7":function(t,e,n){"use strict";n.r(e);var r,s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item_cell_group"},[n("van-cell-group",[n("van-cell",{attrs:{title:"选择规格",isLink:"",value:t.selectSku.selectedSkuComb.sku_str},nativeOn:{click:function(e){return t.skuClick(e)}}}),n("van-cell",{attrs:{title:"商品属性",isLink:""},nativeOn:{click:function(e){t.propsPopup=!0}}}),n("van-cell",{attrs:{title:"配送至",isLink:"",value:t.addressVal.area_name},nativeOn:{click:function(e){t.addressPopup=!0}}}),n("van-cell",{attrs:{title:"运费",value:t._f("yuan")(t.postFee)}})],1),n("van-sku",{attrs:{showAddCartBtn:t.showAddCartBtn,buyText:t.buyText,sku:t.skus.sku,goods:t.skus.goods_info,goodsId:t.goodsInfo.id,disableStepperInput:!0},on:{"buy-clicked":t.buyGoods},model:{value:t.showSku,callback:function(e){t.showSku=e},expression:"showSku"}}),n("van-popup",{attrs:{position:"bottom"},model:{value:t.propsPopup,callback:function(e){t.propsPopup=e},expression:"propsPopup"}},[n("popup-props",{attrs:{propsStr:t.props_str}})],1),n("van-popup",{attrs:{position:"bottom"},model:{value:t.areaPopup,callback:function(e){t.areaPopup=e},expression:"areaPopup"}},[t.areaPopup?n("popup-area",{on:{confirm:t.emitAddressVal,cancel:function(e){t.areaPopup=!1}}}):t._e()],1),n("van-popup",{attrs:{position:"bottom"},model:{value:t.addressPopup,callback:function(e){t.addressPopup=e},expression:"addressPopup"}},[n("popup-address",{attrs:{"is-show":t.addressPopup,addressVal:t.addressVal,"default-id":t.defaultId},on:{confirm:t.emitAddressVal,"area-click":t.areaClick}})],1)],1)},i=[],a=(n("8e6e"),n("456d"),n("7514"),n("4917"),n("ac6a"),n("bd86")),o=(n("7f7f"),n("28a5"),n("c32f")),u=n("11cc"),c=n("b333"),p=n("c24f");function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(n,!0).forEach((function(e){Object(a["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f=function(){return Promise.all([n.e("items-detail-EntityGroup-area"),n.e("chunk-4f25eb15"),n.e("popup-area")]).then(n.bind(null,"fc85"))},v={name:"entity-group",props:{goodsInfo:{type:Object,default:function(){return{}}},selectSku:{type:Object,default:function(){return{}}},addressVal:{type:Object,default:function(){return{}}}},mixins:[c["default"]],data:function(){var t=this.skuAdapter(this.goodsInfo.skus,this.goodsInfo.prop_imgs),e=this.setSkuGoodsInfo(this.goodsInfo),n=this.goodsInfo.is_fenxiao?"免邮费":"";return{postFee:n,propsPopup:!1,addressPopup:!1,areaPopup:!1,skus:{sku:t,goods_info:e},defaultId:-1}},computed:{props_str:function(){return this.goodsInfo.props_str?this.goodsInfo.props_str.split(";").filter((function(t){return""!=t})).map((function(t){return t.split(":")})):[]},weight:function(){return parseFloat(this.goodsInfo.weight)*this.selectSku.selectedNum}},created:function(){this.getAddressDefault()},methods:{areaClick:function(){this.areaPopup=!0,this.addressPopup=!1},emitAddressVal:function(t){this.$emit("update:addressVal",t)},setSkuGoodsInfo:function(t){var e=t.name,n=t.pic_url,r=t.sales_price;return{title:e,picture:n,price:r}},getAddressDefault:function(){var t=this;localStorage.getItem("Authorization")&&this.$reqGet(p["b"]).then((function(e){var n=e.data.data;t.defaultId=n.id,t.emitAddressVal(n)}))},skuAdapter:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.setSkuTree(t,e),r=this.setSkuList(t),s={price:parseInt(this.goodsInfo.sales_price)/100,stock_num:this.goodsInfo.quantity,collection_id:"",none_sku:!1,hide_stock:!1};return l({tree:n,list:r},s)},setSkuList:function(t){return t.forEach((function(t){t.props.split(";").forEach((function(e,n){t["s".concat(n+1)]=e.match(/[^:]*:([^:]*)/)[1]})),t.stock_num=t.quantity,t.goods_id=t.props,t.sku_str=t.props_str,t.price=t.sales_price})),t},setSkuTree:function(t,e){var n=[];return t.forEach((function(t){var n=e.find((function(e){return e.props==t.props}));t.props_str_arr=t.props_str.split(";").filter((function(t){return""!=t})),t.props_arr=t.props.split(";").filter((function(t){return""!=t})),t.imgUrl=n?n.url:""})),t.forEach((function(t){t.props_str_arr.forEach((function(e,r){var s=t.props_arr[r],i=e.substr(0,e.indexOf(":")),a=s.substr(0,s.indexOf(":")),o=e.substr(e.indexOf(":")+1),u=s.substr(s.indexOf(":")+1);if(n[r]){var c=n[r].v.some((function(t){return t.id==u}));!c&&n[r].v.push({id:u,name:o,imgUrl:t.imgUrl})}else n[r]={k_id:a,k:i,v:[{id:u,name:o,imgUrl:t.imgUrl}],k_s:"s".concat(r+1)}}))})),n}},components:(r={popupArea:f},Object(a["a"])(r,o["default"].name,o["default"]),Object(a["a"])(r,u["default"].name,u["default"]),r)},h=v,g=n("2877"),m=Object(g["a"])(h,s,i,!1,null,"ff9f69c2",null);e["default"]=m.exports},"70c6":function(t,e,n){"use strict";var r=n("81cc"),s=n.n(r);s.a},7514:function(t,e,n){"use strict";var r=n("5ca1"),s=n("0a49")(5),i="find",a=!0;i in[]&&Array(1)[i]((function(){a=!1})),r(r.P+r.F*a,"Array",{find:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(i)},"7b0a":function(t,e,n){},"7d02":function(t,e,n){},"81cc":function(t,e,n){},"81e6":function(t,e,n){"use strict";n("68ef"),n("7b0a")},"9b7e":function(t,e,n){},"9ffb":function(t,e,n){"use strict";var r=n("d282"),s=Object(r["a"])("col"),i=s[0],a=s[1];e["a"]=i({props:{span:[Number,String],offset:[Number,String],tag:{type:String,default:"div"}},computed:{gutter:function(){return this.$parent&&Number(this.$parent.gutter)||0},style:function(){var t=this.gutter/2+"px";return this.gutter?{paddingLeft:t,paddingRight:t}:{}}},methods:{onClick:function(t){this.$emit("click",t)}},render:function(){var t,e=arguments[0],n=this.span,r=this.offset;return e(this.tag,{style:this.style,class:a((t={},t[n]=n,t["offset-"+r]=r,t)),on:{click:this.onClick}},[this.slots()])}})},a3e2:function(t,e,n){"use strict";var r=n("2638"),s=n.n(r),i=n("d282"),a=n("ba31"),o=n("b1d2"),u=n("ad06"),c=Object(i["a"])("tag"),p=c[0],d=c[1];function l(t,e,n,r){var i,c,p=e.type,l=e.mark,f=e.plain,v=e.color,h=e.round,g=e.size,m=f?"color":"backgroundColor",b=(i={},i[m]=v,i);e.textColor&&(b.color=e.textColor);var k={mark:l,plain:f,round:h};g&&(k[g]=g);var _=t("span",s()([{style:b,class:[d([k,p]),(c={},c[o["e"]]=f,c)]},Object(a["b"])(r,!0)]),[n.default&&n.default(),e.closeable&&t(u["a"],{attrs:{name:"cross"},class:d("close"),on:{click:function(){Object(a["a"])(r,"close")}}})]);return e.closeable?t("transition",{attrs:{name:"van-fade"}},[_]):_}l.props={size:String,mark:Boolean,color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean,type:{type:String,default:"default"}},e["a"]=p(l)},aae3:function(t,e,n){var r=n("d3f4"),s=n("2d95"),i=n("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==s(t))}},bf60:function(t,e,n){},c24f:function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return s})),n.d(e,"g",(function(){return i})),n.d(e,"f",(function(){return a})),n.d(e,"h",(function(){return o})),n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return p}));var r="/user-login",s="",i="/user-profile",a="",o="",u="/address",c="/address-default",p="/moreGoods"},c32f:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"popup_wrap address_wrap"},[n("van-icon",{staticClass:"cancel_popup",attrs:{name:"clear"},nativeOn:{click:function(e){return t.hide(e)}}}),n("div",{staticClass:"popup_header"},[t._v("配送至")]),n("div",{staticClass:"popup_content"},[t.addressReady?t._e():n("van-loading",{staticClass:"address_popup_load",attrs:{type:"circle",color:"black"}}),t._l(t.address_list,(function(e,r){return n("div",{key:r,on:{click:function(n){return t.listChoose(e)}}},[e.isDefault?n("van-tag",{staticStyle:{"margin-right":"5px"},attrs:{plain:"",type:"danger"}},[t._v("默认")]):t._e(),t._v("\n\t\t\t"+t._s(e.area_name+e.address)+"\n\t\t\t"),n("van-icon",{directives:[{name:"show",rawName:"v-show",value:t.addressVal.id==e.id,expression:"addressVal.id == li.id"}],staticClass:"address_active",attrs:{name:"success"}})],1)}))],2),n("div",{staticClass:"popup_footer"},[n("van-cell-group",[n("van-cell",{attrs:{"is-link":"",title:"其他区域"},nativeOn:{click:function(e){return t.areaChoose(e)}}})],1)],1)],1)},s=[],i=n("bd86"),a=(n("7f7f"),n("5f1a"),n("a3e2")),o=(n("c5f6"),n("c24f")),u={name:"popup-address",props:{isShow:Boolean,defaultId:[Number,String],addressVal:{type:Object,default:function(){return{}}}},data:function(){return{addressReady:!1,address_list:[],address_default:{}}},watch:{isShow:function(t){t&&!this.address_list.length&&this.getAddress()}},created:function(){!this.address_list.length&&this.getAddress()},methods:{hide:function(){this.$parent.$emit("input",!1)},getAddress:function(){var t=this;localStorage.getItem("Authorization")?this.$reqGet(o["a"]).then((function(e){var n=e.data.data.map((function(e){return e.isDefault=e.id==t.defaultId,e}));t.address_list=n,t.addressReady=!0})):(this.address_list=[],this.addressReady=!0)},listChoose:function(t){this.$emit("confirm",t),this.hide()},areaChoose:function(){this.$emit("area-click",!0)}},components:Object(i["a"])({},a["a"].name,a["a"])},c=u,p=(n("377d"),n("2877")),d=Object(p["a"])(c,r,s,!1,null,"300df9dd",null);e["default"]=d.exports},cd1c:function(t,e,n){var r=n("e853");t.exports=function(t,e){return new(r(t))(e)}},d1e1:function(t,e,n){"use strict";var r=n("d282"),s=Object(r["a"])("row"),i=s[0],a=s[1];e["a"]=i({props:{type:String,align:String,justify:String,tag:{type:String,default:"div"},gutter:{type:[Number,String],default:0}},methods:{onClick:function(t){this.$emit("click",t)}},render:function(){var t,e=arguments[0],n=this.align,r=this.justify,s="flex"===this.type,i="-"+Number(this.gutter)/2+"px",o=this.gutter?{marginLeft:i,marginRight:i}:{};return e(this.tag,{style:o,class:a((t={flex:s},t["align-"+n]=s&&n,t["justify-"+r]=s&&r,t)),on:{click:this.onClick}},[this.slots()])}})},e853:function(t,e,n){var r=n("d3f4"),s=n("1169"),i=n("2b4c")("species");t.exports=function(t){var e;return s(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!s(e.prototype)||(e=void 0),r(e)&&(e=e[i],null===e&&(e=void 0))),void 0===e?Array:e}}}]);